<div class="background-container">

<div class="main-container-form">



<div class="breadcrumb">
<h2 class="title-form"><%= link_to "Votre projet", new_simulation_path({id: @simulation}), data: { turbo: false}, class:"link-back" %>
<i class="fa-solid fa-chevron-right"></i>
<strong>Financement</strong></h2>
</div>

<div class="form-container" data-controller="fields">

<%= simple_form_for @simulation, url: update_first_step_simulation_path(@simulation), data: { turbo: false }, method: :patch do |f| %>

<div class="form-inline">
  <%= f.input :apport, required:true,
       label: "Apport<i class='fa-solid fa-circle-info'><span class='tooltip-i1'>Renseignez le montant de votre apport, sinon mettez 0</span></i>".html_safe,
       wrapper_html: { class: "form-group-inline" },
       input_html: {
       type: "text",
       value: @simulation.apport.zero? ? "" : @simulation.apport.round,
       class: "form-input-inline",
       placeholder: "Ex : 100 000",
       pattern: "\\d{1,7}",
       oninput: "this.value = this.value.replace(/[^0-9]/g, '').slice(0, 7);",
       'data-fields-target': 'numberField6',
       'data-action': 'input->fields#validatefield6'},
       label_html: { class: "form-label-inline" }
  %><p class="text-space"><strong>€</strong></p>
</div>



<div class="form-inline">
  <%= f.input :duree_credit_an, required:true,
       label: "Durée du crédit (ans)<i class='fa-solid fa-circle-info'><span class='tooltip-i1'>Renseignez la durée du crédit en ans</span></i>".html_safe,
       wrapper_html: { class: "form-group-inline" },
       input_html: {
       type: "text",
       value: @simulation.duree_credit_an.zero? ? "" : @simulation.duree_credit_an,
       class: "form-input-inline-l2",
       placeholder: "Ex : 25",
       pattern: "\\d{1,2}",
       oninput: "this.value = this.value.replace(/[^0-9]/g, '').slice(0, 2);",
       'data-fields-target': 'numberField7',
       'data-action': 'input->fields#validatefield7'},
       label_html: { class: "form-label-inline" }
  %><p class="text-space"></p>
</div>

<div class="form-inline">
  <%= f.input :taux_interet, required:true,
       label: "Taux d’intérêt hors assurance<i class='fa-solid fa-circle-info'><span class='tooltip-i1'>Renseignez le taux d'intérêt hors assurance</span></i>".html_safe,
       wrapper_html: { class: "form-group-inline" },
       input_html: {
       type: "text",
       value: @simulation.taux_interet.zero? ? "" : @simulation.taux_interet.to_s,
       class: "form-input-inline-l3",
       placeholder: "Ex : 3,5",
       oninput: "this.value = this.value.replace(/[^0-9.]/g, '').replace(/,/g, '.').slice(0, 4);",
       'data-fields-target': 'numberField8',
       'data-action': 'input->fields#validatefield8'},
       label_html: { class: "form-label-inline" }
  %><p class="text-space"><strong>%</strong></p>
</div>

<div class="form-inline">
  <%= f.input :taux_assurance, required:true,
       label: "Taux assurance emprunt<i class='fa-solid fa-circle-info'><span class='tooltip-i1'>Renseignez le taux d'intérêt de l'assurance</span></i>".html_safe,
       wrapper_html: { class: "form-group-inline" },
       input_html: {
       type: "text",
       value: @simulation.taux_assurance.zero? ? "" : @simulation.taux_assurance.to_s,
       class: "form-input-inline-l3",
       placeholder: "Ex : 0,36",
       oninput: "this.value = this.value.replace(/[^0-9.]/g, '').replace(/,/g, '.').slice(0, 4);",
       'data-fields-target': 'numberField9',
       'data-action': 'input->fields#validatefield9'},
       label_html: { class: "form-label-inline" }
  %><p class="text-space"><strong>%</strong></p>
</div>

</div>

  <div class="form-inline-btn">
    <div class="progress-container">
      <div class="progress-bar-p2"></div>
    </div>

    <%= f.button :submit, "Suivant", class: "main-button" %>

  </div>
<% end %>
</div>
</div>
